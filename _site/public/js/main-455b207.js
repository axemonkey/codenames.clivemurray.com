(()=>{var f=(e,t,n)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{o.readyState===4&&o.status===200&&t(e,o.responseText,n)},o.open("GET","/public/data/".concat(e,".json"),!0),o.send()};var $={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#ddd",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spin",zIndex:2e9,top:"auto",left:"auto"},b=$;var S=e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase(),y=e=>{let t,n=new URLSearchParams(document.location.search);return n.get(e)&&(t=decodeURIComponent(n.get(e))),t};var d={assets:{prefixes:[],animals:[]}},v=()=>{let e=["prefixes","animals"],t={},n=!0;for(let o of e)t[o]=y(o),(!t[o]||t[o].length===0)&&(n=!1);if(n)for(let o of e){let s=t[o].split(","),r=[];for(let c of s)for(let l of d.assets[o])l.attributes.includes(c)&&(r.includes(l)||r.push(l));d.assets[o]=r}w()},m=(e,t)=>{let n=d.assets[e],o=n[Math.floor(Math.random()*n.length)];document.querySelector(".".concat(t)).textContent=S(o.title)},L=()=>{m("prefixes","prefix"),m("animals","animal"),k(0,20)},k=(e,t)=>{Math.round(Math.random())<.5?m("prefixes","prefix"):m("animals","animal");let n=e+1;n<t&&window.setTimeout(()=>{k(n,t)},n*3)},w=()=>{var e=document.querySelector(".spinner");e.remove(),L()},g=(e,t,n)=>{d.assets[e]=JSON.parse(t),d.assets.prefixes.length>0&&d.assets.animals.length>0&&n()},C=e=>{let t=d.assets[e],n=[];for(let o of t)for(let s of o.attributes)n.indexOf(s)===-1&&n.push(s);return n.sort(),console.log("attributes found for ".concat(e,":")),console.log(n),n},x=()=>{let e=["prefixes","animals"],t=!0;for(let o of e){let s=document.querySelector("#".concat(o)),r=s.querySelector(".buttonContainer"),c=[],l=s.querySelectorAll("input:checked");for(let i of l)for(let u of d.assets[o])u.attributes.includes(i.value)&&(c.includes(u)||c.push(u));for(c.length===0&&(t=!1);s.querySelector(".countHolder");)s.querySelector(".countHolder").remove();let a=document.createElement("div");a.classList.add("countHolder"),a.textContent="".concat(c.length," ").concat(o," matched"),s.insertBefore(a,r),console.log("matched: ".concat(c.map(i=>i.title)))}let n=document.querySelector("#go");n.disabled=!t},E=(e,t)=>{let o=e.closest("fieldset").querySelectorAll("input");for(let s of o)s.checked=t;x()},q=()=>{let e=[{name:"prefixes"},{name:"animals"}];for(let t of e){t.attributes=C(t.name);let n=y(t.name),o=n?n.split(","):void 0,s=document.querySelector("fieldset#".concat(t.name));for(let a of t.attributes){let i=document.createElement("input"),u="cb-".concat(t.name,"-").concat(a);i.type="checkbox",i.name=u,i.id=u,i.value=a,(o===void 0||o.includes(a))&&(i.checked="checked"),i.addEventListener("change",()=>{x()});let h=document.createElement("label");h.setAttribute("for",u),h.textContent=a;let p=document.createElement("div");p.classList.add("attribute"),p.append(i),p.append(h),s.append(p)}let r=document.createElement("button");r.textContent="All",r.id="all-".concat(t.name),r.addEventListener("click",a=>{E(a.target,!0)});let c=document.createElement("button");c.textContent="None",c.id="none-".concat(t.name),c.addEventListener("click",a=>{E(a.target,!1)});let l=document.createElement("div");l.classList.add("buttonContainer"),l.append(r,c),s.append(l)}x()},A=()=>{console.log("go");let e=["prefixes","animals"],t=[];for(let n of e){let o=[],r=document.querySelector("fieldset#".concat(n)).querySelectorAll("input:checked");for(let c of r)o.push(c.value);t.push("".concat(n,"=").concat(o.join(",")))}document.location.href="/?".concat(t.join("&"))},O=()=>{console.log("setupOptions"),f("prefixes",g,q),f("animals",g,q),document.querySelector("#go").addEventListener("click",()=>{A()})},P=()=>{let e=document.createElement("div"),t=document.querySelector("h1");e.classList.add("spinner"),t.after(e),new Spinner(b).spin(e),document.querySelector(".another").addEventListener("click",()=>{L()}),document.querySelector(".prefix").addEventListener("click",()=>{m("prefixes","prefix")}),document.querySelector(".animal").addEventListener("click",()=>{m("animals","animal")}),f("prefixes",g,v),f("animals",g,v)},B=()=>{document.documentElement.classList.add("js"),document.querySelector("#menu-trigger").addEventListener("click",e=>{e.target.closest("nav").classList.toggle("open")}),document.querySelector("#optionsButton").addEventListener("click",()=>{let e=document.location.search;document.location.href="/options/".concat(e)}),document.querySelector("main#namer")&&P(),document.querySelector("main#options")&&O()};window.addEventListener("load",B);})();
//# sourceMappingURL=main-455b207.js.map */
