(()=>{var f=(e,t,n)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{o.readyState===4&&o.status===200&&t(e,o.responseText,n)},o.open("GET","/public/data/".concat(e,".json"),!0),o.send()};var v={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#ddd",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spin",zIndex:2e9,top:"auto",left:"auto"},h=v;var x=e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase();var d={assets:{prefixes:[],animals:[]}},u=(e,t)=>{let n=d.assets[e],o=n[Math.floor(Math.random()*n.length)];document.querySelector(".".concat(t)).textContent=x(o.title)},E=()=>{u("prefixes","prefix"),u("animals","animal"),q(0,20)},q=(e,t)=>{Math.round(Math.random())<.5?u("prefixes","prefix"):u("animals","animal");let n=e+1;n<t&&window.setTimeout(()=>{q(n,t)},n*3)},y=()=>{var e=document.querySelector(".spinner");e.remove(),document.body.classList.add("js"),E()},p=(e,t,n)=>{d.assets[e]=JSON.parse(t),d.assets.prefixes.length>0&&d.assets.animals.length>0&&n()},L=e=>{let t=d.assets[e],n=[];for(let o of t)for(let s of o.attributes)n.indexOf(s)===-1&&n.push(s);return n.sort(),console.log("attributes found for ".concat(e,":")),console.log(n),n},g=()=>{let e=["prefixes","animals"],t=!0;for(let o of e){let s=document.querySelector("#".concat(o)),i=s.querySelector(".buttonContainer"),c=[],r=s.querySelectorAll("input:checked");console.log(r);for(let m of r)for(let a of d.assets[o])a.attributes.includes(m.value)&&(c.includes(a)||c.push(a));for(c.length===0&&(t=!1);s.querySelector(".countHolder");)s.querySelector(".countHolder").remove();let l=document.createElement("div");l.classList.add("countHolder"),l.textContent="".concat(c.length," ").concat(o," matched"),s.insertBefore(l,i)}let n=document.querySelector("#go");n.disabled=!t},b=(e,t)=>{let o=e.closest("fieldset").querySelectorAll("input");for(let s of o)s.checked=t;g()},S=()=>{let e=[{name:"prefixes"},{name:"animals"}];for(let t of e){t.attributes=L(t.name);let n=document.querySelector("fieldset#".concat(t.name));for(let c of t.attributes){let r=document.createElement("input"),l="cb-".concat(t.name,"-").concat(c);r.type="checkbox",r.name=l,r.id=l,r.value=c,c.charAt(0)==="p"&&(r.checked="checked"),r.addEventListener("change",()=>{g()});let m=document.createElement("label");m.setAttribute("for",l),m.textContent=c;let a=document.createElement("div");a.classList.add("attribute"),a.append(r),a.append(m),n.append(a)}let o=document.createElement("button");o.textContent="All",o.id="all-".concat(t.name),o.addEventListener("click",c=>{b(c.target,!0)});let s=document.createElement("button");s.textContent="None",s.id="none-".concat(t.name),s.addEventListener("click",c=>{b(c.target,!1)});let i=document.createElement("div");i.classList.add("buttonContainer"),i.append(o,s),n.append(i)}g()},k=()=>{console.log("go");let e=["prefixes","animals"],t=[];for(let n of e){let o=[],i=document.querySelector("fieldset#".concat(n)).querySelectorAll("input:checked");for(let c of i)o.push(c.value);t.push("".concat(n,"=").concat(o.join(",")))}document.location.href="/?".concat(t.join("&"))},$=()=>{console.log("setupOptions"),f("prefixes",p,S),f("animals",p,S),document.querySelector("#go").addEventListener("click",()=>{k()})},w=()=>{let e=document.createElement("div"),t=document.querySelector("h1");e.classList.add("spinner"),t.after(e),new Spinner(h).spin(e),document.querySelector(".another").addEventListener("click",()=>{E()}),document.querySelector(".prefix").addEventListener("click",()=>{u("prefixes","prefix")}),document.querySelector(".animal").addEventListener("click",()=>{u("animals","animal")}),f("prefixes",p,y),f("animals",p,y)},A=()=>{document.documentElement.classList.add("js"),document.querySelector("#menu-trigger").addEventListener("click",e=>{e.target.closest("nav").classList.toggle("open")}),document.querySelector("main#namer")&&w(),document.querySelector("main#options")&&$()};window.addEventListener("load",A);})();
//# sourceMappingURL=main-8cc6d10.js.map */
